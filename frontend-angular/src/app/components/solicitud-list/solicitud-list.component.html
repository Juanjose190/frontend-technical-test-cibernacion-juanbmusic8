<div class="history-container">
    <div class="list-title">
        <div class="meta">
            <h3>Historial de Gestiones</h3>
            <span class="count">{{ (solicitudes$ | async)?.length || 0 }} registros</span>
        </div>
        <div class="filters">
            <span class="filter-chip active">Todo</span>
        </div>
    </div>

    <div class="items-list">
        <div class="empty-state" *ngIf="(solicitudes$ | async)?.length === 0">
            <p>No se han encontrado registros previos</p>
        </div>

        <div class="entry-row" *ngFor="let s of solicitudes$ | async" [ngClass]="s.status.toLowerCase()">
            <div class="main-info">
                <div class="customer-block">
                    <span class="name">{{ s.customerName }}</span>
                    <span class="id-tag">#{{ s.id }}</span>
                </div>
                <div class="finance-block">
                    <span class="amount">{{ s.amount | currency:'USD':'symbol':'1.0-0' }}</span>
                    <span class="type">{{ s.type }}</span>
                </div>
            </div>

            <div class="status-pill">
                <span class="dot"></span>
                {{ s.status }}
            </div>

            <div class="actions-pill">
                <button class="btn-icon edit" (click)="onEdit(s)" title="Editar">
                    <svg viewBox="0 0 24 24" width="16" height="16">
                        <path fill="currentColor"
                            d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" />
                    </svg>
                </button>
                <div class="divider"></div>
                <button class="btn-icon delete" (click)="onDelete(s.id)" title="Eliminar">
                    <svg viewBox="0 0 24 24" width="16" height="16">
                        <path fill="currentColor"
                            d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" />
                    </svg>
                </button>
            </div>
        </div>
    </div>
</div>